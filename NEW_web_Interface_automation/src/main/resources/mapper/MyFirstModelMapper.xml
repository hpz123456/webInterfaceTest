<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.markerhub.mapper.MyFirstModelMapper">



    <!--resultMap对应的是表与实体类的映射  - type 数据库表对应的实体类，别名或完整类名都可以-->
    <resultMap id="BaseResultMap" type="com.markerhub.entity.MyFirstModel" >
        <!-- 结果集的主键 -->
        <id column="id" property="id" jdbcType="INTEGER" />
        <!-- 普通的列  -column 是数据库中字段， property是实体类中字段-->
        <result column="case_id" property="caseId" jdbcType="VARCHAR" />
        <result column="project_name" property="projectName" jdbcType="VARCHAR" />
        <result column="subordinate_module" property="subordinateModule" jdbcType="VARCHAR" />
        <result column="case_name" property="caseName" jdbcType="VARCHAR" />
        <result column="url" property="url" jdbcType="VARCHAR" />
        <result column="header" property="header" jdbcType="VARCHAR" />
        <result column="data" property="data" jdbcType="VARCHAR" />
        <result column="params" property="params" jdbcType="VARCHAR" />
        <result column="request_method" property="requestMethod" jdbcType="VARCHAR" />
        <result column="cookie" property="cookie" jdbcType="VARCHAR" />
        <result column="case_description" property="caseDescription" jdbcType="VARCHAR" />
        <result column="depend_data" property="dependData" jdbcType="VARCHAR" />
        <result column="list_assert" property="listAssert" jdbcType="VARCHAR" />
        <result column="list_vague_assert" property="listVagueAssert" jdbcType="VARCHAR" />
        <result column="common_assert" property="commonAssert" jdbcType="VARCHAR" />
        <result column="get_cookie" property="getCookie" jdbcType="VARCHAR" />
        <result column="remark" property="remark" jdbcType="VARCHAR" />
        <result column="assert_esult" property="assertResult" jdbcType="VARCHAR" />
        <result column="editor" property="editor" jdbcType="VARCHAR" />
        <result column="performer" property="performer" jdbcType="VARCHAR" />
    </resultMap>


    <!--parameterType(输入类型)、resultType(输出类型)-->
    <select id="find_all" resultType="com.markerhub.entity.MyFirstModel" >
        SELECT * FROM my_first_model
    </select>

    <!--parameterType(输入类型)、resultType(输出类型)-->
    <select id="findCase" parameterType="com.markerhub.entity.MyFirstModel" resultType="com.markerhub.entity.MyFirstModel">
        SELECT
        *
        FROM my_first_model
        <where>
            <if test="caseId != null and caseId != ''">
                case_id = #{caseId}
                AND
            </if>
            <if test="projectName != null and projectName != ''">
                project_name = #{projectName}
                AND
            </if>
            <if test="subordinateModule != null and subordinateModule != ''">
                subordinate_module = #{subordinateModule}
                AND
            </if>
            <if test="caseName != null and caseName != ''">
                case_name = #{caseName}
                AND
            </if>
            <if test="editor != null and editor != ''">
                editor = #{editor}
                AND
            </if>
            <if test="performer != null and performer != ''">
                performer = #{performer}
                AND
            </if>
            1 = 1
        </where>
    </select>


    <!-- 批量插入内容 -->
    <insert id="saveModification" keyProperty="id" parameterType="com.markerhub.entity.MyFirstModel" >
        insert into my_first_model (
        id,
        case_id,
        project_name,
        subordinate_module,
        case_name,
        url,
        header,
        data,
        params,
        request_method,
        cookie,
        case_description,
        depend_data,
        list_assert,
        list_vague_assert,
        common_assert,
        get_cookie,
        remark,
        editor,
        performer)
        values
        (
        "${id}",
        "${caseId}",
        "${projectName}",
        "${subordinateModule}",
        "${caseName}",
        "${url}",
        "${header}",
        "${data}",
        "${params}",
        "${requestMethod}",
        "${cookie}",
        "${caseDescription}",
        "${dependData}",
        "${listAssert}",
        "${listVagueAssert}",
        "${commonAssert}",
        "${getCookie}",
        "${remark}",
        "${editor}",
        "${performer}"
        )
    </insert>


    <delete id="deleteList" parameterType="java.util.List">
        delete from my_first_model where id in
        <foreach item="item" collection="list" open="(" separator="," close=")">
            "${item.id}"
        </foreach>
    </delete>

    <update id="updateCase"  parameterType="com.markerhub.entity.MyFirstModel">
        update my_first_model
        <trim prefix="set" suffixOverrides=",">
            <if test="caseId!=null">case_id=${caseId},</if>
            <if test="projectName!=null">project_name=${projectName},</if>
            <if test="subordinateModule!=null">subordinate_module=${subordinateModule},</if>
            <if test="caseName!=null">case_name=${caseName},</if>
            <if test="url!=null">url=${url},</if>
            <if test="header!=null">header=${header},</if>
            <if test="params!=null">params=${params},</if>
            <if test="requestMethod!=null">request_method=${requestMethod},</if>
            <if test="caseDescription!=null">case_description=${caseDescription},</if>
            <if test="dependData!=null">depend_data=${dependData},</if>
            <if test="listAssert!=null">list_assert=${listAssert},</if>
            <if test="listVagueAssert!=null">list_vague_assert=${listVagueAssert},</if>
            <if test="commonAssert!=null">common_assert=${commonAssert},</if>
            <if test="getCookie!=null">get_cookie=${getCookie},</if>
            <if test="assertResult!=null">assert_result=${assertResult},</if>
            <if test="editor!=null">editor=${editor},</if>
            <if test="performer!=null">performer=${performer}</if>
        </trim>
        WHERE id=#{id}
    </update>


    <!-- 批量插入内容 -->
    <insert id="saveMoreModification" keyProperty="id" parameterType="com.markerhub.entity.MyFirstModel" >
        insert into my_first_model (
        id,
        case_id,
        project_name,
        subordinate_module,
        case_name,
        url,
        header,
        data,
        params,
        request_method,
        cookie,
        case_description,
        depend_data,
        list_assert,
        list_vague_assert,
        common_assert,
        get_cookie,
        remark,
        editor,
        performer,
        token)
        values
        <foreach collection="myFirstModel_list" item="list" index="index" separator=",">
        (
        "${list.id}",
        "${list.caseId}",
        "${list.projectName}",
        "${list.subordinateModule}",
        "${list.caseName}",
        "${list.url}",
        "${list.header}",
        "${list.data}",
        "${list.params}",
        "${list.requestMethod}",
        "${list.cookie}",
        "${list.caseDescription}",
        "${list.dependData}",
        "${list.listAssert}",
        "${list.listVagueAssert}",
        "${list.commonAssert}",
        "${list.getCookie}",
        "${list.remark}",
        "${list.editor}",
        "${list.performer}",
        "${list.token}"
        )
        </foreach>
    </insert>




    <!-- 批量插入内容 -->
<!--    <insert id="insertDepartments" useGeneratedKeys="true" keyProperty="id" parameterType="com.wg.demo.po.Department">-->
<!--        insert into department (id, dept_name, descr,-->
<!--        create_time)-->
<!--        values-->
<!--        <foreach collection="list" item="dept" index="index" separator=",">-->
<!--            (#{dept.id,jdbcType=BIGINT}, #{dept.deptName,jdbcType=VARCHAR}, #{dept.descr,jdbcType=VARCHAR},-->
<!--            #{dept.createTime,jdbcType=TIMESTAMP})-->
<!--        </foreach>-->
<!--    </insert>-->




</mapper>
